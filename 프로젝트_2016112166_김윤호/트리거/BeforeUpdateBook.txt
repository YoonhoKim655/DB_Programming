CREATE OR REPLACE TRIGGER BeforeUpdateBook
BEFORE UPDATE ON book
FOR EACH ROW
DECLARE
Not_Num EXCEPTION;
BEGIN
IF REGEXP_INSTR(:new.b_quantity,'[^0-9]') != 0 THEN
RAISE Not_Num;
END IF;
EXCEPTION
WHEN Not_Num THEN
RAISE_APPLICATION_ERROR(-20007, '수량은 숫자를 입력하세요.');
END;
/